function _defineProperties(l,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"6Mca":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),u=function l(){_classCallCheck(this,l)},o=e("pMnS"),r=e("MKJQ"),i=e("sZkV"),s=e("s7LF"),a=e("SVse"),c=e("mrSG"),b=e("cMp+"),h=function(){function l(n,e,t,u,o,r){_classCallCheck(this,l),this.obj=n,this.http=e,this.router=t,this.toastController=u,this.loadingController=o,this.alertController=r,this.resendBtnHide=!1,this.counter=1,this.isNextBtnDisabled=!0,this.spinnerShowHide=!0,this.maxtime=10,this.sec=!0,this.third=!0,this.forth=!0,this.otpForm=new s.f({otp:new s.d}),this.showOtpComponent=!0,this.config={allowNumbersOnly:!1,length:4,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"4",inputStyles:{width:"50px",height:"50px"}},this.finalObj=this.obj.customerDetails()}return _createClass(l,[{key:"next",value:function(l,n,e,t){""!==n?("sec"===t?(console.log("sec"),this.sec=!1):"third"===t?(console.log("th"),this.third=!1):"forth"===t&&(console.log("f"),this.forth=!1),setTimeout((function(){l.setFocus(),console.log("out")}),100)):("five"===t?this.forth=!0:"forth"===t?this.third=!0:"third"===t&&(this.sec=!0),e.setFocus())}},{key:"StartTimer",value:function(){var l=this;this.timer=setTimeout((function(n){l.maxtime-=1,l.maxtime>0?(console.log(l.maxtime),l.StartTimer()):console.log("complete")}),1e3)}},{key:"handleEvent",value:function(l){console.log("Event Trigger : ",l),0===l.left&&(console.log("Time is going to ZERO"),this.resendBtnHide=!0)}},{key:"resendOTP",value:function(){var l=this;this.counter<3?(this.presentAlert(),this.http.post("https://www.staging.admin.veronicasquote.com/api/otp/generate",{phoneNo:this.finalObj.customer.customerData.phone}).subscribe((function(n){console.log(n),l.countdown.restart(),l.resendBtnHide=!1,l.counter++}),(function(n){n.error.message&&(l.getErrorTost("Invalid data for field Phone Number"),l.loadingController.dismiss("login"))}))):(this.contactUs(),this.loadingController.dismiss("login"))}},{key:"validateOTP",value:function(){var l=this;console.log(this.otpForm.value.otp),console.log("NUMBER----"+this.finalObj.customer.customerData.phone),this.presentAlert(),this.http.post("https://www.staging.admin.veronicasquote.com/api/otp/verify",{phoneNo:this.finalObj.customer.customerData.phone,otp:this.otpForm.value.otp}).subscribe((function(n){l.spinnerShowHide=!0,l.loadingController.dismiss("login"),l.router.navigate(["/driver-splash"])}),(function(n){console.log(n),l.loadingController.dismiss("login"),n.error.message&&(console.log(n.error.message),l.getErrorTost(n.error.message))}))}},{key:"ngOnInit",value:function(){console.log("NUMBER----"+this.finalObj.customer.customerData.phone),this.number=this.finalObj.customer.customerData.phone,this.StartTimer(),this.finalObj.customer.customerData.phone&&this.otpForm.setValue({otp:""})}},{key:"getErrorTost",value:function(l){return c.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({message:l,duration:2e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(){return c.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.loadingController.create({id:"alert"});case 2:return n=l.sent,l.next=5,n.present();case 5:return l.next=7,n.onDidDismiss();case 7:console.log("Loading dismissed!");case 8:case"end":return l.stop()}}),l,this)})))}},{key:"contactUs",value:function(){return c.b(this,void 0,void 0,regeneratorRuntime.mark((function l(){var n;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.alertController.create({subHeader:"Please contact our support team",buttons:[{text:"Call us",cssClass:"secondary",handler:function(l){window.location.href="tel:(800) 639-3939"}},{text:"Chat with us",cssClass:"secondary",handler:function(l){window.location.href="https://www.tidio.com/talk/fefv4irzl5mm0eropcqgncfpiiuj32mp"}}]});case 2:return n=l.sent,l.next=5,n.present();case 5:case"end":return l.stop()}}),l,this)})))}},{key:"OTP",value:function(l){this.isNextBtnDisabled=!(l.target.value.length>=4)}}]),l}(),p=e("IheW"),d=e("iInd"),g=t.nb({encapsulation:0,styles:[[".otp[_ngcontent-%COMP%]{color:#a9a9a9;border-style:none;width:60px;height:60px;font-size:50px}table[_ngcontent-%COMP%]{border-collapse:collapse}"]],data:{}});function f(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Hb(1,null,["Resend code in ","s"]))],null,(function(l,n){l(n,1,0,n.component.maxtime)}))}function m(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,2,"span",[["style","text-align: center; color: red;"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.resendOTP()&&t),t}),null,null)),(l()(),t.pb(1,0,null,null,1,"u",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Resend code now."]))],null,null)}function v(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"ion-chip",[["class","disableNext"],["color","danger"],["size","large"]],null,null,null,r.V,r.k)),t.ob(1,49152,null,0,i.r,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.pb(2,0,null,0,2,"ion-label",[["class","next"]],null,null,null,r.gb,r.v)),t.ob(3,49152,null,0,i.M,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["NEXT"]))],(function(l,n){l(n,1,0,"danger")}),null)}function x(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"ion-chip",[["class","enableNext"],["size","large"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.validateOTP()&&t),t}),r.V,r.k)),t.ob(1,49152,null,0,i.r,[t.h,t.k,t.x],null,null),(l()(),t.pb(2,0,null,0,2,"ion-label",[["class","next"]],null,null,null,r.gb,r.v)),t.ob(3,49152,null,0,i.M,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["NEXT"]))],null,null)}function k(l){return t.Jb(0,[t.Fb(671088640,1,{countdown:0}),t.Fb(671088640,2,{ngOtpInput:0}),(l()(),t.pb(2,0,null,null,5,"ion-header",[],null,null,null,r.bb,r.q)),t.ob(3,49152,null,0,i.A,[t.h,t.k,t.x],null,null),(l()(),t.pb(4,0,null,0,3,"ion-toolbar",[],null,null,null,r.vb,r.K)),t.ob(5,49152,null,0,i.yb,[t.h,t.k,t.x],null,null),(l()(),t.pb(6,0,null,0,1,"ion-title",[],null,null,null,r.ub,r.J)),t.ob(7,49152,null,0,i.wb,[t.h,t.k,t.x],null,null),(l()(),t.pb(8,0,null,null,50,"ion-content",[],null,null,null,r.X,r.m)),t.ob(9,49152,null,0,i.t,[t.h,t.k,t.x],null,null),(l()(),t.pb(10,0,null,0,48,"div",[["class","flex"]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,47,"ion-card",[["style","align-self: center !important; width:99%;box-shadow:rgba(0, 0, 0, 0.0) 0px 4px 16px;"]],null,null,null,r.U,r.f)),t.ob(12,49152,null,0,i.l,[t.h,t.k,t.x],null,null),(l()(),t.pb(13,0,null,0,2,"div",[["class","ion-text-center"]],null,null,null,null,null)),(l()(),t.pb(14,0,null,null,1,"ion-progress-bar",[["color","danger"],["style","margin-bottom: 3vh;"],["value","0.3"]],null,null,null,r.kb,r.z)),t.ob(15,49152,null,0,i.V,[t.h,t.k,t.x],{color:[0,"color"],value:[1,"value"]},null),(l()(),t.pb(16,0,null,0,3,"div",[["style","align-self: flex-start !important; align-items: start; position: fixed; display: flow-root;"]],null,null,null,null,null)),(l()(),t.pb(17,0,null,null,2,"ion-back-button",[["defaultHref","/primary-name"],["slot","start"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Bb(l,19).onClick(e)&&u),u}),r.N,r.c)),t.ob(18,49152,null,0,i.f,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.ob(19,16384,null,0,i.g,[[2,i.eb],i.Fb],{defaultHref:[0,"defaultHref"]},null),(l()(),t.pb(20,0,null,0,1,"div",[["class","ion-text-center"]],null,null,null,null,null)),(l()(),t.pb(21,0,null,null,0,"img",[["src","assets/icon/otp.svg"]],null,null,null,null,null)),(l()(),t.pb(22,0,null,0,7,"ion-card-header",[],null,null,null,r.R,r.h)),t.ob(23,49152,null,0,i.n,[t.h,t.k,t.x],null,null),(l()(),t.pb(24,0,null,0,2,"ion-card-subtitle",[["class","ion-text-center"]],null,null,null,r.S,r.i)),t.ob(25,49152,null,0,i.o,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Customer Info"])),(l()(),t.pb(27,0,null,0,2,"ion-card-title",[],null,null,null,r.T,r.j)),t.ob(28,49152,null,0,i.p,[t.h,t.k,t.x],null,null),(l()(),t.Hb(29,0,["Enter the verification code we send to +1",""])),(l()(),t.pb(30,0,null,0,20,"ion-card-content",[],null,null,null,r.Q,r.g)),t.ob(31,49152,null,0,i.m,[t.h,t.k,t.x],null,null),(l()(),t.pb(32,0,null,0,13,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Bb(l,34).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Bb(l,34).onReset()&&u),u}),null,null)),t.ob(33,16384,null,0,s.u,[],null,null),t.ob(34,540672,null,0,s.g,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,s.a,null,[s.g]),t.ob(36,16384,null,0,s.n,[[4,s.a]],null,null),(l()(),t.pb(37,0,null,null,8,"ion-input",[["class","roundedInput"],["formControlName","otp"],["maxlength","4"],["size","4"],["style","text-align: center;"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var u=!0,o=l.component;return"ionBlur"===n&&(u=!1!==t.Bb(l,40)._handleBlurEvent(e.target)&&u),"ionChange"===n&&(u=!1!==t.Bb(l,40)._handleInputEvent(e.target)&&u),"keyup"===n&&(u=!1!==o.OTP(e)&&u),u}),r.eb,r.t)),t.ob(38,540672,null,0,s.i,[],{maxlength:[0,"maxlength"]},null),t.Eb(1024,null,s.j,(function(l){return[l]}),[s.i]),t.ob(40,16384,null,0,i.Mb,[t.k],null,null),t.Eb(1024,null,s.k,(function(l){return[l]}),[i.Mb]),t.ob(42,671744,null,0,s.e,[[3,s.a],[6,s.j],[8,null],[6,s.k],[2,s.t]],{name:[0,"name"]},null),t.Eb(2048,null,s.l,null,[s.e]),t.ob(44,16384,null,0,s.m,[[4,s.l]],null,null),t.ob(45,49152,null,0,i.F,[t.h,t.k,t.x],{maxlength:[0,"maxlength"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.pb(46,0,null,0,4,"div",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,f)),t.ob(48,16384,null,0,a.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,m)),t.ob(50,16384,null,0,a.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(51,0,null,0,5,"ion-card-header",[],null,null,null,r.R,r.h)),t.ob(52,49152,null,0,i.n,[t.h,t.k,t.x],null,null),(l()(),t.eb(16777216,null,0,1,null,v)),t.ob(54,16384,null,0,a.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,0,1,null,x)),t.ob(56,16384,null,0,a.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(57,0,null,0,1,"ion-progress-bar",[["color","danger"],["value","0.5"]],null,null,null,r.kb,r.z)),t.ob(58,49152,null,0,i.V,[t.h,t.k,t.x],{color:[0,"color"],value:[1,"value"]},null)],(function(l,n){var e=n.component;l(n,15,0,"danger","0.3"),l(n,18,0,"/primary-name"),l(n,19,0,"/primary-name"),l(n,34,0,e.otpForm),l(n,38,0,"4"),l(n,42,0,"otp"),l(n,45,0,"4","4","text"),l(n,48,0,e.maxtime>0),l(n,50,0,0==e.maxtime),l(n,54,0,e.isNextBtnDisabled),l(n,56,0,!e.isNextBtnDisabled),l(n,58,0,"danger","0.5")}),(function(l,n){l(n,29,0,n.component.number),l(n,32,0,t.Bb(n,36).ngClassUntouched,t.Bb(n,36).ngClassTouched,t.Bb(n,36).ngClassPristine,t.Bb(n,36).ngClassDirty,t.Bb(n,36).ngClassValid,t.Bb(n,36).ngClassInvalid,t.Bb(n,36).ngClassPending),l(n,37,0,t.Bb(n,38).maxlength?t.Bb(n,38).maxlength:null,t.Bb(n,44).ngClassUntouched,t.Bb(n,44).ngClassTouched,t.Bb(n,44).ngClassPristine,t.Bb(n,44).ngClassDirty,t.Bb(n,44).ngClassValid,t.Bb(n,44).ngClassInvalid,t.Bb(n,44).ngClassPending)}))}var C=t.lb("app-otp",h,(function(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-otp",[],null,null,null,k,g)),t.ob(1,114688,null,0,h,[b.a,p.c,d.m,i.Nb,i.Cb,i.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"transform",value:function(l){return Object.keys(l)}}]),l}(),y=function l(){_classCallCheck(this,l)},B=function l(){_classCallCheck(this,l)};e.d(n,"OTPPageModuleNgFactory",(function(){return z}));var z=t.mb(u,[],(function(l){return t.yb([t.zb(512,t.j,t.X,[[8,[o.a,C]],[3,t.j],t.v]),t.zb(4608,a.k,a.j,[t.s,[2,a.r]]),t.zb(4608,s.s,s.s,[]),t.zb(4608,i.b,i.b,[t.x,t.g]),t.zb(4608,i.Eb,i.Eb,[i.b,t.j,t.p]),t.zb(4608,i.Ib,i.Ib,[i.b,t.j,t.p]),t.zb(4608,s.c,s.c,[]),t.zb(4608,w,w,[]),t.zb(1073742336,a.b,a.b,[]),t.zb(1073742336,s.r,s.r,[]),t.zb(1073742336,s.h,s.h,[]),t.zb(1073742336,i.Ab,i.Ab,[]),t.zb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),t.zb(1073742336,B,B,[]),t.zb(1073742336,s.p,s.p,[]),t.zb(1073742336,y,y,[]),t.zb(1073742336,u,u,[]),t.zb(1024,d.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);