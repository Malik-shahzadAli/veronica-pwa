(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{izb1:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var o=e("pMnS"),i=e("MKJQ"),r=e("sZkV"),s=e("s7LF"),a=e("4CcO"),b=e("SVse"),d=e("mrSG"),h=e("cMp+");class c{constructor(l,n,e,t,u,o){this.router=l,this.obj=n,this.http=e,this.toastController=t,this.translate=u,this.loadingController=o,this.url="https://www.admin.veronicasquote.com/api/quote/generate",this.isNameRequired=!0,this.isPhoneRequired=!0,this.NameValidate=!1,this.phoneValidate=!1,this.bothValidation=!0,this.modelText="",this.referredPerson=new s.f({name:new s.d("",[s.q.required]),phone:new s.d("",[s.q.required])}),this.finalObjectSendToServer=this.obj.customerDetails()}get name(){return this.referredPerson.get("name")}get phoneNumber(){return this.referredPerson.get("phone")}validateReferredName(l){const n=l.target.value;""===n?(this.isNameRequired=!0,this.NameValidate=!1,this.getQuoteBtnEnableDisabled()):n.length<3?(this.isNameRequired=!1,this.NameValidate=!0,this.getQuoteBtnEnableDisabled()):(this.isNameRequired=!1,this.NameValidate=!1,this.getQuoteBtnEnableDisabled()),this.getQuoteBtnEnableDisabled()}validatePhone(l){const n=l.target.value;""===n?(this.isPhoneRequired=!0,this.phoneValidate=!1,this.getQuoteBtnEnableDisabled()):/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/.test(String(n))?(this.presentAlert(),this.http.post("https://www.admin.veronicasquote.com/api/ref/validate",{phoneNo:"+1 "+n}).subscribe(l=>{console.log("Response from the server : "),this.loadingController.dismiss("login"),console.log(l),this.phoneValidate=!1,this.isPhoneRequired=!1,this.getQuoteBtnEnableDisabled()},l=>{this.loadingController.dismiss("login"),this.getErrorTost(),console.log("Error : ",l),this.phoneValidate=!0,this.isPhoneRequired=!1,this.getQuoteBtnEnableDisabled()})):(this.phoneValidate=!0,this.isPhoneRequired=!1),this.getQuoteBtnEnableDisabled()}getQuote(){this.presentAlert();const l=this.name.value,n=this.formatPhoneNumber(this.phoneNumber.value);console.log("Refered Phone No : ",n),this.finalObjectSendToServer.ref.fullName=l,this.finalObjectSendToServer.ref.phoneNo="+1"+n,delete this.finalObjectSendToServer.customer.customerData.city,delete this.finalObjectSendToServer.customer.customerData.state,this.http.post(this.url,{quoteData:this.finalObjectSendToServer}).subscribe(l=>{this.loadingController.dismiss("alert"),console.log(l),this.obj.quotes=l,this.router.navigate(["/get-a-quote"])},l=>{this.loadingController.dismiss("alert"),console.log("Error : ",l)})}getQuoteBtnEnableDisabled(){this.isNameRequired||this.NameValidate||this.isPhoneRequired||this.phoneValidate?(console.log("HERE"),this.bothValidation=!0):this.bothValidation=!1}formatPhoneNumber(l){const n=(""+l).replace(/\D/g,"").match(/^(1|)?(\d{3})(\d{3})(\d{4})$/);return n?[n[1]?"+1 ":"","(",n[2],") ",n[3],"-",n[4]].join(""):null}presentAlert(){return d.b(this,void 0,void 0,(function*(){this.translate.get("popup.title").subscribe(l=>{this.modelText=l});const l=yield this.loadingController.create({message:this.modelText,id:"alert"});yield l.present(),yield l.onDidDismiss(),console.log("Loading dismissed!")}))}getErrorTost(){return d.b(this,void 0,void 0,(function*(){this.translate.get("Address.popUpError").subscribe(l=>{this.modelText=l}),(yield this.toastController.create({message:this.modelText,duration:2e3})).present()}))}}var g=e("iInd"),p=e("IheW"),m=e("TSSN"),f=t.nb({encapsulation:0,styles:[[""]],data:{}});function v(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"ion-chip",[["class","disableNext"],["color","danger"],["size","large"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getErrorTost()&&t),t}),i.V,i.k)),t.ob(1,49152,null,0,r.r,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.pb(2,0,null,0,2,"ion-label",[["class","next"]],null,null,null,i.gb,i.v)),t.ob(3,49152,null,0,r.M,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["NEXT"]))],(function(l,n){l(n,1,0,"danger")}),null)}function k(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,4,"ion-chip",[["class","enableNext"],["size","large"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.getQuote()&&t),t}),i.V,i.k)),t.ob(1,49152,null,0,r.r,[t.h,t.k,t.x],null,null),(l()(),t.pb(2,0,null,0,2,"ion-label",[["class","next"]],null,null,null,i.gb,i.v)),t.ob(3,49152,null,0,r.M,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["NEXT"]))],null,null)}function B(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,5,"ion-header",[],null,null,null,i.bb,i.q)),t.ob(1,49152,null,0,r.A,[t.h,t.k,t.x],null,null),(l()(),t.pb(2,0,null,0,3,"ion-toolbar",[],null,null,null,i.vb,i.K)),t.ob(3,49152,null,0,r.yb,[t.h,t.k,t.x],null,null),(l()(),t.pb(4,0,null,0,1,"ion-title",[],null,null,null,i.ub,i.J)),t.ob(5,49152,null,0,r.wb,[t.h,t.k,t.x],null,null),(l()(),t.pb(6,0,null,null,46,"ion-content",[],null,null,null,i.X,i.m)),t.ob(7,49152,null,0,r.t,[t.h,t.k,t.x],null,null),(l()(),t.pb(8,0,null,0,44,"div",[["class","flex"]],null,null,null,null,null)),(l()(),t.pb(9,0,null,null,43,"ion-card",[["style","align-self: center !important; width:99%;box-shadow:rgba(0, 0, 0, 0.0) 0px 4px 16px;"]],null,null,null,i.U,i.f)),t.ob(10,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(l()(),t.pb(11,0,null,0,2,"div",[["class","ion-text-center"]],null,null,null,null,null)),(l()(),t.pb(12,0,null,null,1,"ion-progress-bar",[["color","danger"],["style","margin-bottom: 3vh;"],["value","0.3"]],null,null,null,i.kb,i.z)),t.ob(13,49152,null,0,r.V,[t.h,t.k,t.x],{color:[0,"color"],value:[1,"value"]},null),(l()(),t.pb(14,0,null,0,3,"div",[["style","align-self: flex-start !important; align-items: start; position: fixed; display: flow-root;"]],null,null,null,null,null)),(l()(),t.pb(15,0,null,null,2,"ion-back-button",[["defaultHref","/home"],["slot","start"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Bb(l,17).onClick(e)&&u),u}),i.N,i.c)),t.ob(16,49152,null,0,r.f,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.ob(17,16384,null,0,r.g,[[2,r.eb],r.Fb],{defaultHref:[0,"defaultHref"]},null),(l()(),t.pb(18,0,null,0,1,"div",[["class","ion-text-center"]],null,null,null,null,null)),(l()(),t.pb(19,0,null,null,0,"img",[["src","assets/icon/user-cloud.svg"]],null,null,null,null,null)),(l()(),t.pb(20,0,null,0,1,"ion-card-header",[],null,null,null,i.R,i.h)),t.ob(21,49152,null,0,r.n,[t.h,t.k,t.x],null,null),(l()(),t.pb(22,0,null,0,22,"ion-card-content",[],null,null,null,i.Q,i.g)),t.ob(23,49152,null,0,r.m,[t.h,t.k,t.x],null,null),(l()(),t.pb(24,0,null,0,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Bb(l,26).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Bb(l,26).onReset()&&u),u}),null,null)),t.ob(25,16384,null,0,s.u,[],null,null),t.ob(26,540672,null,0,s.g,[[8,null],[8,null]],{form:[0,"form"]},null),t.Eb(2048,null,s.a,null,[s.g]),t.ob(28,16384,null,0,s.n,[[4,s.a]],null,null),(l()(),t.pb(29,0,null,null,6,"ion-input",[["class","roundedInput input-lg capital"],["formControlName","name"],["placeholder","Name"],["style","padding-left: 10px; "]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var u=!0,o=l.component;return"ionBlur"===n&&(u=!1!==t.Bb(l,30)._handleBlurEvent(e.target)&&u),"ionChange"===n&&(u=!1!==t.Bb(l,30)._handleInputEvent(e.target)&&u),"input"===n&&(u=!1!==o.validateReferredName(e)&&u),u}),i.eb,i.t)),t.ob(30,16384,null,0,r.Mb,[t.k],null,null),t.Eb(1024,null,s.k,(function(l){return[l]}),[r.Mb]),t.ob(32,671744,null,0,s.e,[[3,s.a],[8,null],[8,null],[6,s.k],[2,s.t]],{name:[0,"name"]},null),t.Eb(2048,null,s.l,null,[s.e]),t.ob(34,16384,null,0,s.m,[[4,s.l]],null,null),t.ob(35,49152,null,0,r.F,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.pb(36,0,null,null,8,"ion-input",[["class","roundedInput capital"],["formControlName","phone"],["placeholder","Phone"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ionBlur"],[null,"ionChange"],[null,"keyup"]],(function(l,n,e){var u=!0,o=l.component;return"ionBlur"===n&&(u=!1!==t.Bb(l,37)._handleBlurEvent(e.target)&&u),"ionChange"===n&&(u=!1!==t.Bb(l,37)._handleInputEvent(e.target)&&u),"keyup"===n&&(u=!1!==t.Bb(l,43).inputKeyup(e)&&u),"input"===n&&(u=!1!==o.validatePhone(e)&&u),u}),i.eb,i.t)),t.ob(37,16384,null,0,r.Mb,[t.k],null,null),t.Eb(1024,null,s.k,(function(l){return[l]}),[r.Mb]),t.ob(39,671744,null,0,s.e,[[3,s.a],[8,null],[8,null],[6,s.k],[2,s.t]],{name:[0,"name"]},null),t.Eb(2048,null,s.l,null,[s.e]),t.ob(41,16384,null,0,s.m,[[4,s.l]],null,null),t.ob(42,49152,null,0,r.F,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),t.ob(43,81920,null,0,a.a,[[3,s.g],t.k],{brmasker:[0,"brmasker"],formControlName:[1,"formControlName"]},null),t.Db(44,{mask:0,len:1,type:2}),(l()(),t.pb(45,0,null,0,5,"ion-card-header",[],null,null,null,i.R,i.h)),t.ob(46,49152,null,0,r.n,[t.h,t.k,t.x],null,null),(l()(),t.eb(16777216,null,0,1,null,v)),t.ob(48,16384,null,0,b.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,0,1,null,k)),t.ob(50,16384,null,0,b.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(51,0,null,0,1,"ion-progress-bar",[["color","danger"],["value","0.25"]],null,null,null,i.kb,i.z)),t.ob(52,49152,null,0,r.V,[t.h,t.k,t.x],{color:[0,"color"],value:[1,"value"]},null)],(function(l,n){var e=n.component;l(n,13,0,"danger","0.3"),l(n,16,0,"/home"),l(n,17,0,"/home"),l(n,26,0,e.referredPerson),l(n,32,0,"name"),l(n,35,0,"Name"),l(n,39,0,"phone"),l(n,42,0,"Phone");var t=l(n,44,0,"(000) 000-0000",14,"num");l(n,43,0,t,"phone"),l(n,48,0,e.bothValidation),l(n,50,0,!e.bothValidation),l(n,52,0,"danger","0.25")}),(function(l,n){l(n,24,0,t.Bb(n,28).ngClassUntouched,t.Bb(n,28).ngClassTouched,t.Bb(n,28).ngClassPristine,t.Bb(n,28).ngClassDirty,t.Bb(n,28).ngClassValid,t.Bb(n,28).ngClassInvalid,t.Bb(n,28).ngClassPending),l(n,29,0,t.Bb(n,34).ngClassUntouched,t.Bb(n,34).ngClassTouched,t.Bb(n,34).ngClassPristine,t.Bb(n,34).ngClassDirty,t.Bb(n,34).ngClassValid,t.Bb(n,34).ngClassInvalid,t.Bb(n,34).ngClassPending),l(n,36,0,t.Bb(n,41).ngClassUntouched,t.Bb(n,41).ngClassTouched,t.Bb(n,41).ngClassPristine,t.Bb(n,41).ngClassDirty,t.Bb(n,41).ngClassValid,t.Bb(n,41).ngClassInvalid,t.Bb(n,41).ngClassPending)}))}function C(l){return t.Jb(0,[(l()(),t.pb(0,0,null,null,1,"app-referred-person",[],null,null,null,B,f)),t.ob(1,49152,null,0,c,[g.m,h.a,p.c,r.Nb,m.k,r.Cb],null,null)],null,null)}var x=t.lb("app-referred-person",c,C,{},{},[]);class N{}var E=e("CbX2");e.d(n,"ReferredPersonPageModuleNgFactory",(function(){return P}));var P=t.mb(u,[],(function(l){return t.yb([t.zb(512,t.j,t.X,[[8,[o.a,x]],[3,t.j],t.v]),t.zb(4608,b.k,b.j,[t.s,[2,b.r]]),t.zb(4608,s.s,s.s,[]),t.zb(4608,r.b,r.b,[t.x,t.g]),t.zb(4608,r.Eb,r.Eb,[r.b,t.j,t.p]),t.zb(4608,r.Ib,r.Ib,[r.b,t.j,t.p]),t.zb(4608,s.c,s.c,[]),t.zb(1073742336,b.b,b.b,[]),t.zb(1073742336,s.r,s.r,[]),t.zb(1073742336,s.h,s.h,[]),t.zb(1073742336,r.Ab,r.Ab,[]),t.zb(1073742336,s.p,s.p,[]),t.zb(1073742336,g.o,g.o,[[2,g.t],[2,g.m]]),t.zb(1073742336,N,N,[]),t.zb(1073742336,E.a,E.a,[]),t.zb(1073742336,u,u,[]),t.zb(1024,g.k,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);